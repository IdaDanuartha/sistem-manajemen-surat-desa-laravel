@extends('layouts.main')
@section('title') Halaman Dashboard @endsection

@section('main')
<div class="py-14 pt-2">
    @if (!auth()->user()->isAdmin())
		<div class="px-9 py-8 dashbaord-banner">
			<p class="text-sm text-white">Hi, {{ auth()->user()->authenticatable->name ?? auth()->user()->authenticatable->citizent->name  }} sebagai {{ auth()->user()->role->label() }}</p>
			<h4 class="text-3xl text-white font-semibold max-w-[450px]">
				{{ auth()->user()->isCitizent() ? "Segera kirimkan surat-surat anda kepada yang bersangkutan" : "Segera cek surat-surat yang dikirimkan warga" }}
			</h4>
			<a href="{{ route('letters.index') }}" class="text-white btn-second rounded-full button flex gap-2 items-center">
				Kelola Surat
				<svg width="10" class="duration-200" height="11" viewBox="0 0 10 11" fill="none" xmlns="http://www.w3.org/2000/svg">
					<g clip-path="url(#clip0_5123_1295)">
						<path d="M2.75117 0.488306C2.57459 0.534445 2.41609 0.608 2.29831 0.756695C2.10092 1.00583 2.09678 1.36764 2.29573 1.6172C2.33423 1.6655 2.37678 1.71092 2.4205 1.75464C3.63789 2.97253 4.85562 4.19006 6.07362 5.40731C6.10109 5.43475 6.13228 5.45847 6.19631 5.51378C6.14737 5.54256 6.10748 5.55633 6.08059 5.58317C4.85264 6.80895 3.62636 8.03636 2.39845 9.26217C2.18198 9.47828 2.09137 9.72564 2.18414 10.0261C2.32206 10.4726 2.89192 10.6539 3.26203 10.3687C3.30326 10.3369 3.34273 10.3023 3.37953 10.2655C4.79123 8.85453 6.2027 7.44333 7.6137 6.03161C7.87739 5.76778 7.93142 5.43989 7.75612 5.14231C7.71375 5.07042 7.65456 5.0065 7.59506 4.94695C6.22151 3.57158 4.84606 2.19814 3.47353 0.821778C3.32142 0.66925 3.16448 0.533167 2.94687 0.48825C2.88164 0.488305 2.81639 0.488306 2.75117 0.488306Z" fill="white"/>
					</g>
					<defs>
						<clipPath id="clip0_5123_1295">
							<rect width="10" height="10" fill="white" transform="matrix(1 0 0 -1 0 10.5)"/>
						</clipPath>
					</defs>
				</svg>
			</a>
		</div>	
	@endif

	<div class="grid {{ auth()->user()->isAdmin() ? 'lg:grid-cols-4' : 'lg:grid-cols-3' }} mt-[20px] md:grid-cols-2 grid-cols-1 gap-8">
		@if (auth()->user()->isAdmin())
			<div class="card-dashboard flex justify-between items-start">
				<div class="">
					<p class="mb-0 capitalize text-sm font-medium desc">Total Warga</p>
					<h1 class="m-0 text-3xl font-semibold text-main">{{ $total_citizents }}</h1>
				</div>
				<div class="">
					<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
						<g clip-path="url(#clip0_379_1406)">
							<path d="M12.5626 4.72069e-05C12.9593 0.0757035 13.3612 0.13125 13.752 0.230156C16.5441 0.936891 18.6359 3.39539 18.9006 6.26789C19.2244 9.78309 16.939 12.9369 13.4845 13.7077C12.9784 13.8206 12.4481 13.8607 11.928 13.8682C9.92925 13.8972 7.977 14.1678 6.10688 14.9047C5.0475 15.322 4.05385 15.8578 3.18839 16.6066C2.32472 17.3539 1.89235 18.3083 1.8765 19.4486C1.86867 20.0109 1.8728 20.5735 1.87575 21.1359C1.87884 21.7268 2.27053 22.1239 2.85928 22.124C8.95247 22.1255 15.0456 22.1254 21.1388 22.1241C21.7277 22.1239 22.1265 21.7273 22.1229 21.1376C22.1183 20.404 22.1405 19.6668 22.0743 18.9381C21.9913 18.0239 21.551 17.2635 20.8661 16.6531C20.1663 16.0296 19.3661 15.5634 18.5163 15.1755C18.0258 14.9517 17.8111 14.5012 17.952 14.0291C18.1012 13.5299 18.6391 13.2078 19.1158 13.4104C20.6193 14.0493 21.9995 14.8757 22.9809 16.2317C23.5313 16.9921 23.8457 17.851 23.9575 18.7837C23.9638 18.8359 23.9855 18.8863 24 18.9375C24 19.8125 24 20.6875 24 21.5625C23.9836 21.6124 23.9629 21.6614 23.9514 21.7125C23.7158 22.7577 23.0996 23.4732 22.0945 23.847C21.9221 23.9112 21.7401 23.9497 21.5625 24C15.1875 24 8.8125 24 2.4375 24C2.38753 23.9836 2.33855 23.9625 2.28745 23.9515C1.46077 23.7733 0.806531 23.3371 0.393328 22.5983C0.214968 22.2795 0.128297 21.9093 0 21.5625C0 20.6875 0 19.8125 0 18.9375C0.0136406 18.8938 0.0344995 18.851 0.039937 18.8063C0.224109 17.3025 0.905251 16.0688 2.06428 15.0991C3.34617 14.0267 4.815 13.3028 6.40078 12.8046C6.83606 12.6679 7.27936 12.5566 7.71975 12.4335C7.71187 12.4079 7.71164 12.3899 7.70255 12.3809C7.67484 12.3535 7.64363 12.3299 7.614 12.3045C5.75156 10.7093 4.89314 8.69222 5.10394 6.24436C5.34291 3.46922 7.38305 1.02455 10.068 0.281954C10.5162 0.158016 10.9806 0.0925312 11.4375 0C11.8126 4.6875e-05 12.1876 4.72069e-05 12.5626 4.72069e-05ZM17.0624 6.94598C17.0665 4.16264 14.8059 1.88653 12.0263 1.87533C9.23105 1.86408 6.94641 4.12758 6.93783 6.91673C6.9292 9.71081 9.19552 11.9931 11.9853 11.9999C14.7778 12.0066 17.0582 9.73664 17.0624 6.94598Z" fill="#141414" fill-opacity="0.32"/>
						</g>
						<defs>
							<clipPath id="clip0_379_1406">
								<rect width="24" height="24" fill="white"/>
							</clipPath>
						</defs>
					</svg>
				</div>
			</div>
		@endif
		@if (auth()->user()->isCitizent())
		<div class="card-dashboard flex justify-between items-start">
            <div class="">
                <p class="mb-0 capitalize text-sm font-medium desc">Total Surat</p>
                <h1 class="m-0 text-3xl font-semibold text-main">{{ $total_letters }}</h1>
            </div>
            <div class="">
                <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_379_1414)">
                        <path d="M7.37785 24.0291C7.00609 23.9185 6.61138 23.855 6.26609 23.6891C4.8202 22.9944 4.06667 21.8262 4.04667 20.2203C4.02667 18.5921 4.04197 16.9638 4.04197 15.3356C4.04197 12.7444 4.03903 10.1532 4.04315 7.56266C4.04609 5.89031 5.01962 4.4856 6.57844 3.95678C6.97844 3.8209 7.4202 3.74972 7.84256 3.74796C12.0702 3.73325 16.2984 3.73443 20.5267 3.7409C22.6837 3.74443 24.3249 5.39443 24.3355 7.55325C24.3402 8.48501 24.3408 9.41619 24.3337 10.348C24.3302 10.8291 24.022 11.1927 23.5673 11.2844C23.1561 11.3668 22.7137 11.1438 22.5496 10.7462C22.489 10.5991 22.4626 10.4285 22.4614 10.268C22.4531 9.39913 22.4578 8.53031 22.4573 7.66148C22.4561 6.40913 21.6708 5.61854 20.4243 5.61854C16.2667 5.61796 12.109 5.61796 7.95197 5.61854C6.7155 5.61854 5.92197 6.40854 5.92197 7.6409C5.92079 11.8056 5.92079 15.9697 5.92197 20.1344C5.92256 21.3538 6.71667 22.1503 7.93432 22.1509C10.6514 22.1527 13.3679 22.1515 16.0849 22.1515C16.162 22.1515 16.239 22.1515 16.3473 22.1515C16.3473 22.0521 16.3473 21.9691 16.3473 21.8862C16.3473 21.0485 16.3449 20.2109 16.3478 19.3733C16.3543 17.4221 17.7773 16.0015 19.7302 15.9956C20.5443 15.9933 21.359 15.995 22.1731 15.995C22.2578 15.995 22.3431 15.995 22.4602 15.995C22.4602 15.6603 22.4502 15.3421 22.4626 15.0244C22.4802 14.5756 22.792 14.2232 23.2284 14.1362C23.6396 14.0544 24.0802 14.2791 24.2461 14.6756C24.302 14.8085 24.3308 14.9627 24.3331 15.1074C24.3426 15.6944 24.3337 16.2815 24.3384 16.8685C24.3408 17.1674 24.2396 17.4191 24.0308 17.6291C22.0037 19.665 19.9778 21.7027 17.9449 23.7327C17.8173 23.8597 17.6355 23.9321 17.4784 24.0297C14.1114 24.0291 10.7443 24.0291 7.37785 24.0291ZM21.1078 17.8856C20.5273 17.8856 19.9884 17.8562 19.4537 17.8932C18.8514 17.9356 18.3214 18.4256 18.2602 19.0356C18.2037 19.5962 18.2484 20.1668 18.2484 20.7068C19.1843 19.7838 20.1314 18.8491 21.1078 17.8856Z" fill="#141414" fill-opacity="0.32"/>
                        <path d="M0.284424 3.31606C0.412071 2.909 0.486189 2.47547 0.676189 2.09959C1.3456 0.776062 2.44384 0.058415 3.92854 -0.00923205C4.75678 -0.0468791 5.58795 -0.018644 6.41736 -0.018644C10.4644 -0.0192323 14.5115 -0.0174672 18.5585 -0.0209966C18.8785 -0.0209966 19.1685 0.0407679 19.3874 0.28665C19.6374 0.56665 19.7091 0.895474 19.5756 1.24783C19.4391 1.60842 19.1632 1.809 18.7803 1.85312C18.6797 1.86489 18.5768 1.85959 18.4756 1.85959C13.7085 1.85959 8.94148 1.86018 4.17442 1.85959C3.36031 1.85959 2.71854 2.17841 2.36972 2.92783C2.23325 3.22077 2.17325 3.57489 2.17207 3.90194C2.15972 8.68371 2.16384 13.4655 2.16207 18.2472C2.16207 18.3943 2.1556 18.5466 2.12031 18.6878C2.02207 19.0772 1.68913 19.3449 1.29325 19.3743C0.909718 19.4031 0.546777 19.1908 0.378541 18.8396C0.345012 18.7696 0.316189 18.6984 0.285012 18.6272C0.284424 13.5237 0.284424 8.41959 0.284424 3.31606Z" fill="#141414" fill-opacity="0.32"/>
                        <path d="M14.1426 10.3143C12.6708 10.3143 11.1991 10.3184 9.7273 10.3125C9.04201 10.3102 8.59319 9.71722 8.78789 9.09251C8.90554 8.71663 9.23848 8.45722 9.64554 8.44016C9.89554 8.42957 10.1467 8.43604 10.3967 8.43604C13.1132 8.43604 15.8297 8.43545 18.5461 8.43663C19.0373 8.43663 19.3873 8.65604 19.5314 9.04839C19.7573 9.66075 19.3202 10.299 18.6508 10.3113C17.9702 10.3243 17.2885 10.3149 16.6079 10.3149C15.7861 10.3143 14.9644 10.3143 14.1426 10.3143Z" fill="#141414" fill-opacity="0.32"/>
                        <path d="M14.1843 12.1929C15.6402 12.1929 17.0967 12.1947 18.5525 12.1912C18.8661 12.1906 19.1437 12.2694 19.352 12.5117C19.5967 12.7965 19.6614 13.1247 19.522 13.4759C19.3831 13.8259 19.1114 14.017 18.739 14.0659C18.7078 14.07 18.6767 14.0712 18.6455 14.0712C15.6631 14.0712 12.6802 14.0729 9.69784 14.07C9.26902 14.0694 8.92549 13.8194 8.79549 13.4429C8.58843 12.8423 9.00784 12.2235 9.65196 12.1982C10.0349 12.1829 10.419 12.1935 10.8025 12.1935C11.9296 12.1923 13.0573 12.1929 14.1843 12.1929Z" fill="#141414" fill-opacity="0.32"/>
                        <path d="M11.5938 15.9503C12.1885 15.9503 12.7838 15.9491 13.3785 15.9509C13.9967 15.9527 14.4191 16.3321 14.4226 16.8838C14.4262 17.4368 14.0032 17.8274 13.3903 17.8285C12.1614 17.8303 10.9326 17.8327 9.7038 17.8268C9.21086 17.8244 8.84027 17.5103 8.75439 17.0474C8.67792 16.635 8.90674 16.1968 9.30615 16.0368C9.44733 15.9803 9.60909 15.9562 9.76203 15.9538C10.3726 15.945 10.9832 15.9503 11.5938 15.9503Z" fill="#141414" fill-opacity="0.32"/>
                    </g>
                    <defs>
                        <clipPath id="clip0_379_1414">
                            <rect width="24" height="24" fill="white" transform="translate(0.333252)"/>
                        </clipPath>
                    </defs>
                </svg>

            </div>
		</div>
		@endif
		<div class="card-dashboard flex justify-between items-start">
            <div class="">
                <p class="mb-0 capitalize text-sm font-medium desc">Total Surat Disetujui</p>
                <h1 class="m-0 text-3xl font-semibold text-main">{{ $total_letters_approved }}</h1>
            </div>
            <div class="">
                <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_379_1414)">
                        <path d="M7.37785 24.0291C7.00609 23.9185 6.61138 23.855 6.26609 23.6891C4.8202 22.9944 4.06667 21.8262 4.04667 20.2203C4.02667 18.5921 4.04197 16.9638 4.04197 15.3356C4.04197 12.7444 4.03903 10.1532 4.04315 7.56266C4.04609 5.89031 5.01962 4.4856 6.57844 3.95678C6.97844 3.8209 7.4202 3.74972 7.84256 3.74796C12.0702 3.73325 16.2984 3.73443 20.5267 3.7409C22.6837 3.74443 24.3249 5.39443 24.3355 7.55325C24.3402 8.48501 24.3408 9.41619 24.3337 10.348C24.3302 10.8291 24.022 11.1927 23.5673 11.2844C23.1561 11.3668 22.7137 11.1438 22.5496 10.7462C22.489 10.5991 22.4626 10.4285 22.4614 10.268C22.4531 9.39913 22.4578 8.53031 22.4573 7.66148C22.4561 6.40913 21.6708 5.61854 20.4243 5.61854C16.2667 5.61796 12.109 5.61796 7.95197 5.61854C6.7155 5.61854 5.92197 6.40854 5.92197 7.6409C5.92079 11.8056 5.92079 15.9697 5.92197 20.1344C5.92256 21.3538 6.71667 22.1503 7.93432 22.1509C10.6514 22.1527 13.3679 22.1515 16.0849 22.1515C16.162 22.1515 16.239 22.1515 16.3473 22.1515C16.3473 22.0521 16.3473 21.9691 16.3473 21.8862C16.3473 21.0485 16.3449 20.2109 16.3478 19.3733C16.3543 17.4221 17.7773 16.0015 19.7302 15.9956C20.5443 15.9933 21.359 15.995 22.1731 15.995C22.2578 15.995 22.3431 15.995 22.4602 15.995C22.4602 15.6603 22.4502 15.3421 22.4626 15.0244C22.4802 14.5756 22.792 14.2232 23.2284 14.1362C23.6396 14.0544 24.0802 14.2791 24.2461 14.6756C24.302 14.8085 24.3308 14.9627 24.3331 15.1074C24.3426 15.6944 24.3337 16.2815 24.3384 16.8685C24.3408 17.1674 24.2396 17.4191 24.0308 17.6291C22.0037 19.665 19.9778 21.7027 17.9449 23.7327C17.8173 23.8597 17.6355 23.9321 17.4784 24.0297C14.1114 24.0291 10.7443 24.0291 7.37785 24.0291ZM21.1078 17.8856C20.5273 17.8856 19.9884 17.8562 19.4537 17.8932C18.8514 17.9356 18.3214 18.4256 18.2602 19.0356C18.2037 19.5962 18.2484 20.1668 18.2484 20.7068C19.1843 19.7838 20.1314 18.8491 21.1078 17.8856Z" fill="#141414" fill-opacity="0.32"/>
                        <path d="M0.284424 3.31606C0.412071 2.909 0.486189 2.47547 0.676189 2.09959C1.3456 0.776062 2.44384 0.058415 3.92854 -0.00923205C4.75678 -0.0468791 5.58795 -0.018644 6.41736 -0.018644C10.4644 -0.0192323 14.5115 -0.0174672 18.5585 -0.0209966C18.8785 -0.0209966 19.1685 0.0407679 19.3874 0.28665C19.6374 0.56665 19.7091 0.895474 19.5756 1.24783C19.4391 1.60842 19.1632 1.809 18.7803 1.85312C18.6797 1.86489 18.5768 1.85959 18.4756 1.85959C13.7085 1.85959 8.94148 1.86018 4.17442 1.85959C3.36031 1.85959 2.71854 2.17841 2.36972 2.92783C2.23325 3.22077 2.17325 3.57489 2.17207 3.90194C2.15972 8.68371 2.16384 13.4655 2.16207 18.2472C2.16207 18.3943 2.1556 18.5466 2.12031 18.6878C2.02207 19.0772 1.68913 19.3449 1.29325 19.3743C0.909718 19.4031 0.546777 19.1908 0.378541 18.8396C0.345012 18.7696 0.316189 18.6984 0.285012 18.6272C0.284424 13.5237 0.284424 8.41959 0.284424 3.31606Z" fill="#141414" fill-opacity="0.32"/>
                        <path d="M14.1426 10.3143C12.6708 10.3143 11.1991 10.3184 9.7273 10.3125C9.04201 10.3102 8.59319 9.71722 8.78789 9.09251C8.90554 8.71663 9.23848 8.45722 9.64554 8.44016C9.89554 8.42957 10.1467 8.43604 10.3967 8.43604C13.1132 8.43604 15.8297 8.43545 18.5461 8.43663C19.0373 8.43663 19.3873 8.65604 19.5314 9.04839C19.7573 9.66075 19.3202 10.299 18.6508 10.3113C17.9702 10.3243 17.2885 10.3149 16.6079 10.3149C15.7861 10.3143 14.9644 10.3143 14.1426 10.3143Z" fill="#141414" fill-opacity="0.32"/>
                        <path d="M14.1843 12.1929C15.6402 12.1929 17.0967 12.1947 18.5525 12.1912C18.8661 12.1906 19.1437 12.2694 19.352 12.5117C19.5967 12.7965 19.6614 13.1247 19.522 13.4759C19.3831 13.8259 19.1114 14.017 18.739 14.0659C18.7078 14.07 18.6767 14.0712 18.6455 14.0712C15.6631 14.0712 12.6802 14.0729 9.69784 14.07C9.26902 14.0694 8.92549 13.8194 8.79549 13.4429C8.58843 12.8423 9.00784 12.2235 9.65196 12.1982C10.0349 12.1829 10.419 12.1935 10.8025 12.1935C11.9296 12.1923 13.0573 12.1929 14.1843 12.1929Z" fill="#141414" fill-opacity="0.32"/>
                        <path d="M11.5938 15.9503C12.1885 15.9503 12.7838 15.9491 13.3785 15.9509C13.9967 15.9527 14.4191 16.3321 14.4226 16.8838C14.4262 17.4368 14.0032 17.8274 13.3903 17.8285C12.1614 17.8303 10.9326 17.8327 9.7038 17.8268C9.21086 17.8244 8.84027 17.5103 8.75439 17.0474C8.67792 16.635 8.90674 16.1968 9.30615 16.0368C9.44733 15.9803 9.60909 15.9562 9.76203 15.9538C10.3726 15.945 10.9832 15.9503 11.5938 15.9503Z" fill="#141414" fill-opacity="0.32"/>
                    </g>
                    <defs>
                        <clipPath id="clip0_379_1414">
                            <rect width="24" height="24" fill="white" transform="translate(0.333252)"/>
                        </clipPath>
                    </defs>
                </svg>
            </div>
		</div>
		<div class="card-dashboard flex justify-between items-start">
            <div class="">
                <p class="mb-0 capitalize text-sm font-medium desc">Total Surat Belum Disetujui</p>
                <h1 class="m-0 text-3xl font-semibold text-main">{{ $total_letters_not_approved }}</h1>
            </div>
            <div class="">
                <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_379_1414)">
                        <path d="M7.37785 24.0291C7.00609 23.9185 6.61138 23.855 6.26609 23.6891C4.8202 22.9944 4.06667 21.8262 4.04667 20.2203C4.02667 18.5921 4.04197 16.9638 4.04197 15.3356C4.04197 12.7444 4.03903 10.1532 4.04315 7.56266C4.04609 5.89031 5.01962 4.4856 6.57844 3.95678C6.97844 3.8209 7.4202 3.74972 7.84256 3.74796C12.0702 3.73325 16.2984 3.73443 20.5267 3.7409C22.6837 3.74443 24.3249 5.39443 24.3355 7.55325C24.3402 8.48501 24.3408 9.41619 24.3337 10.348C24.3302 10.8291 24.022 11.1927 23.5673 11.2844C23.1561 11.3668 22.7137 11.1438 22.5496 10.7462C22.489 10.5991 22.4626 10.4285 22.4614 10.268C22.4531 9.39913 22.4578 8.53031 22.4573 7.66148C22.4561 6.40913 21.6708 5.61854 20.4243 5.61854C16.2667 5.61796 12.109 5.61796 7.95197 5.61854C6.7155 5.61854 5.92197 6.40854 5.92197 7.6409C5.92079 11.8056 5.92079 15.9697 5.92197 20.1344C5.92256 21.3538 6.71667 22.1503 7.93432 22.1509C10.6514 22.1527 13.3679 22.1515 16.0849 22.1515C16.162 22.1515 16.239 22.1515 16.3473 22.1515C16.3473 22.0521 16.3473 21.9691 16.3473 21.8862C16.3473 21.0485 16.3449 20.2109 16.3478 19.3733C16.3543 17.4221 17.7773 16.0015 19.7302 15.9956C20.5443 15.9933 21.359 15.995 22.1731 15.995C22.2578 15.995 22.3431 15.995 22.4602 15.995C22.4602 15.6603 22.4502 15.3421 22.4626 15.0244C22.4802 14.5756 22.792 14.2232 23.2284 14.1362C23.6396 14.0544 24.0802 14.2791 24.2461 14.6756C24.302 14.8085 24.3308 14.9627 24.3331 15.1074C24.3426 15.6944 24.3337 16.2815 24.3384 16.8685C24.3408 17.1674 24.2396 17.4191 24.0308 17.6291C22.0037 19.665 19.9778 21.7027 17.9449 23.7327C17.8173 23.8597 17.6355 23.9321 17.4784 24.0297C14.1114 24.0291 10.7443 24.0291 7.37785 24.0291ZM21.1078 17.8856C20.5273 17.8856 19.9884 17.8562 19.4537 17.8932C18.8514 17.9356 18.3214 18.4256 18.2602 19.0356C18.2037 19.5962 18.2484 20.1668 18.2484 20.7068C19.1843 19.7838 20.1314 18.8491 21.1078 17.8856Z" fill="#141414" fill-opacity="0.32"/>
                        <path d="M0.284424 3.31606C0.412071 2.909 0.486189 2.47547 0.676189 2.09959C1.3456 0.776062 2.44384 0.058415 3.92854 -0.00923205C4.75678 -0.0468791 5.58795 -0.018644 6.41736 -0.018644C10.4644 -0.0192323 14.5115 -0.0174672 18.5585 -0.0209966C18.8785 -0.0209966 19.1685 0.0407679 19.3874 0.28665C19.6374 0.56665 19.7091 0.895474 19.5756 1.24783C19.4391 1.60842 19.1632 1.809 18.7803 1.85312C18.6797 1.86489 18.5768 1.85959 18.4756 1.85959C13.7085 1.85959 8.94148 1.86018 4.17442 1.85959C3.36031 1.85959 2.71854 2.17841 2.36972 2.92783C2.23325 3.22077 2.17325 3.57489 2.17207 3.90194C2.15972 8.68371 2.16384 13.4655 2.16207 18.2472C2.16207 18.3943 2.1556 18.5466 2.12031 18.6878C2.02207 19.0772 1.68913 19.3449 1.29325 19.3743C0.909718 19.4031 0.546777 19.1908 0.378541 18.8396C0.345012 18.7696 0.316189 18.6984 0.285012 18.6272C0.284424 13.5237 0.284424 8.41959 0.284424 3.31606Z" fill="#141414" fill-opacity="0.32"/>
                        <path d="M14.1426 10.3143C12.6708 10.3143 11.1991 10.3184 9.7273 10.3125C9.04201 10.3102 8.59319 9.71722 8.78789 9.09251C8.90554 8.71663 9.23848 8.45722 9.64554 8.44016C9.89554 8.42957 10.1467 8.43604 10.3967 8.43604C13.1132 8.43604 15.8297 8.43545 18.5461 8.43663C19.0373 8.43663 19.3873 8.65604 19.5314 9.04839C19.7573 9.66075 19.3202 10.299 18.6508 10.3113C17.9702 10.3243 17.2885 10.3149 16.6079 10.3149C15.7861 10.3143 14.9644 10.3143 14.1426 10.3143Z" fill="#141414" fill-opacity="0.32"/>
                        <path d="M14.1843 12.1929C15.6402 12.1929 17.0967 12.1947 18.5525 12.1912C18.8661 12.1906 19.1437 12.2694 19.352 12.5117C19.5967 12.7965 19.6614 13.1247 19.522 13.4759C19.3831 13.8259 19.1114 14.017 18.739 14.0659C18.7078 14.07 18.6767 14.0712 18.6455 14.0712C15.6631 14.0712 12.6802 14.0729 9.69784 14.07C9.26902 14.0694 8.92549 13.8194 8.79549 13.4429C8.58843 12.8423 9.00784 12.2235 9.65196 12.1982C10.0349 12.1829 10.419 12.1935 10.8025 12.1935C11.9296 12.1923 13.0573 12.1929 14.1843 12.1929Z" fill="#141414" fill-opacity="0.32"/>
                        <path d="M11.5938 15.9503C12.1885 15.9503 12.7838 15.9491 13.3785 15.9509C13.9967 15.9527 14.4191 16.3321 14.4226 16.8838C14.4262 17.4368 14.0032 17.8274 13.3903 17.8285C12.1614 17.8303 10.9326 17.8327 9.7038 17.8268C9.21086 17.8244 8.84027 17.5103 8.75439 17.0474C8.67792 16.635 8.90674 16.1968 9.30615 16.0368C9.44733 15.9803 9.60909 15.9562 9.76203 15.9538C10.3726 15.945 10.9832 15.9503 11.5938 15.9503Z" fill="#141414" fill-opacity="0.32"/>
                    </g>
                    <defs>
                        <clipPath id="clip0_379_1414">
                            <rect width="24" height="24" fill="white" transform="translate(0.333252)"/>
                        </clipPath>
                    </defs>
                </svg>

            </div>
		</div>
		@if (!auth()->user()->isCitizent())
		<div class="card-dashboard flex justify-between items-start">
            <div class="">
                <p class="mb-0 capitalize text-sm font-medium desc">Total Surat Diterima</p>
                <h1 class="m-0 text-3xl font-semibold text-main">{{ $total_letters }}</h1>
            </div>
            <div class="">
                <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_379_1414)">
                        <path d="M7.37785 24.0291C7.00609 23.9185 6.61138 23.855 6.26609 23.6891C4.8202 22.9944 4.06667 21.8262 4.04667 20.2203C4.02667 18.5921 4.04197 16.9638 4.04197 15.3356C4.04197 12.7444 4.03903 10.1532 4.04315 7.56266C4.04609 5.89031 5.01962 4.4856 6.57844 3.95678C6.97844 3.8209 7.4202 3.74972 7.84256 3.74796C12.0702 3.73325 16.2984 3.73443 20.5267 3.7409C22.6837 3.74443 24.3249 5.39443 24.3355 7.55325C24.3402 8.48501 24.3408 9.41619 24.3337 10.348C24.3302 10.8291 24.022 11.1927 23.5673 11.2844C23.1561 11.3668 22.7137 11.1438 22.5496 10.7462C22.489 10.5991 22.4626 10.4285 22.4614 10.268C22.4531 9.39913 22.4578 8.53031 22.4573 7.66148C22.4561 6.40913 21.6708 5.61854 20.4243 5.61854C16.2667 5.61796 12.109 5.61796 7.95197 5.61854C6.7155 5.61854 5.92197 6.40854 5.92197 7.6409C5.92079 11.8056 5.92079 15.9697 5.92197 20.1344C5.92256 21.3538 6.71667 22.1503 7.93432 22.1509C10.6514 22.1527 13.3679 22.1515 16.0849 22.1515C16.162 22.1515 16.239 22.1515 16.3473 22.1515C16.3473 22.0521 16.3473 21.9691 16.3473 21.8862C16.3473 21.0485 16.3449 20.2109 16.3478 19.3733C16.3543 17.4221 17.7773 16.0015 19.7302 15.9956C20.5443 15.9933 21.359 15.995 22.1731 15.995C22.2578 15.995 22.3431 15.995 22.4602 15.995C22.4602 15.6603 22.4502 15.3421 22.4626 15.0244C22.4802 14.5756 22.792 14.2232 23.2284 14.1362C23.6396 14.0544 24.0802 14.2791 24.2461 14.6756C24.302 14.8085 24.3308 14.9627 24.3331 15.1074C24.3426 15.6944 24.3337 16.2815 24.3384 16.8685C24.3408 17.1674 24.2396 17.4191 24.0308 17.6291C22.0037 19.665 19.9778 21.7027 17.9449 23.7327C17.8173 23.8597 17.6355 23.9321 17.4784 24.0297C14.1114 24.0291 10.7443 24.0291 7.37785 24.0291ZM21.1078 17.8856C20.5273 17.8856 19.9884 17.8562 19.4537 17.8932C18.8514 17.9356 18.3214 18.4256 18.2602 19.0356C18.2037 19.5962 18.2484 20.1668 18.2484 20.7068C19.1843 19.7838 20.1314 18.8491 21.1078 17.8856Z" fill="#141414" fill-opacity="0.32"/>
                        <path d="M0.284424 3.31606C0.412071 2.909 0.486189 2.47547 0.676189 2.09959C1.3456 0.776062 2.44384 0.058415 3.92854 -0.00923205C4.75678 -0.0468791 5.58795 -0.018644 6.41736 -0.018644C10.4644 -0.0192323 14.5115 -0.0174672 18.5585 -0.0209966C18.8785 -0.0209966 19.1685 0.0407679 19.3874 0.28665C19.6374 0.56665 19.7091 0.895474 19.5756 1.24783C19.4391 1.60842 19.1632 1.809 18.7803 1.85312C18.6797 1.86489 18.5768 1.85959 18.4756 1.85959C13.7085 1.85959 8.94148 1.86018 4.17442 1.85959C3.36031 1.85959 2.71854 2.17841 2.36972 2.92783C2.23325 3.22077 2.17325 3.57489 2.17207 3.90194C2.15972 8.68371 2.16384 13.4655 2.16207 18.2472C2.16207 18.3943 2.1556 18.5466 2.12031 18.6878C2.02207 19.0772 1.68913 19.3449 1.29325 19.3743C0.909718 19.4031 0.546777 19.1908 0.378541 18.8396C0.345012 18.7696 0.316189 18.6984 0.285012 18.6272C0.284424 13.5237 0.284424 8.41959 0.284424 3.31606Z" fill="#141414" fill-opacity="0.32"/>
                        <path d="M14.1426 10.3143C12.6708 10.3143 11.1991 10.3184 9.7273 10.3125C9.04201 10.3102 8.59319 9.71722 8.78789 9.09251C8.90554 8.71663 9.23848 8.45722 9.64554 8.44016C9.89554 8.42957 10.1467 8.43604 10.3967 8.43604C13.1132 8.43604 15.8297 8.43545 18.5461 8.43663C19.0373 8.43663 19.3873 8.65604 19.5314 9.04839C19.7573 9.66075 19.3202 10.299 18.6508 10.3113C17.9702 10.3243 17.2885 10.3149 16.6079 10.3149C15.7861 10.3143 14.9644 10.3143 14.1426 10.3143Z" fill="#141414" fill-opacity="0.32"/>
                        <path d="M14.1843 12.1929C15.6402 12.1929 17.0967 12.1947 18.5525 12.1912C18.8661 12.1906 19.1437 12.2694 19.352 12.5117C19.5967 12.7965 19.6614 13.1247 19.522 13.4759C19.3831 13.8259 19.1114 14.017 18.739 14.0659C18.7078 14.07 18.6767 14.0712 18.6455 14.0712C15.6631 14.0712 12.6802 14.0729 9.69784 14.07C9.26902 14.0694 8.92549 13.8194 8.79549 13.4429C8.58843 12.8423 9.00784 12.2235 9.65196 12.1982C10.0349 12.1829 10.419 12.1935 10.8025 12.1935C11.9296 12.1923 13.0573 12.1929 14.1843 12.1929Z" fill="#141414" fill-opacity="0.32"/>
                        <path d="M11.5938 15.9503C12.1885 15.9503 12.7838 15.9491 13.3785 15.9509C13.9967 15.9527 14.4191 16.3321 14.4226 16.8838C14.4262 17.4368 14.0032 17.8274 13.3903 17.8285C12.1614 17.8303 10.9326 17.8327 9.7038 17.8268C9.21086 17.8244 8.84027 17.5103 8.75439 17.0474C8.67792 16.635 8.90674 16.1968 9.30615 16.0368C9.44733 15.9803 9.60909 15.9562 9.76203 15.9538C10.3726 15.945 10.9832 15.9503 11.5938 15.9503Z" fill="#141414" fill-opacity="0.32"/>
                    </g>
                    <defs>
                        <clipPath id="clip0_379_1414">
                            <rect width="24" height="24" fill="white" transform="translate(0.333252)"/>
                        </clipPath>
                    </defs>
                </svg>

            </div>
		</div>
		@endif
	</div>

	<div class="card-dashboard-wrapper mt-[20px]">
		<div class="flex sm:flex-row flex-col gap-3 justify-between">
			<h6 class="text-2xl font-semibold text-second mb-0">Grafik Total Surat Diterima</h6>
			<div class="category1 item">
				<button id="dropdownDefaultButton" onclick="showItems('category1')" data-dropdown-toggle="dropdown" class="flex rounded-full w-max btn-dropdown category-name active" type="button">
					Tahun ini
					<svg class="w-2.5 h-2.5 ms-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
						<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
					</svg>
				</button>
				<!-- Dropdown menu -->
				<div id="dropdown" class="z-30 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700">
					<ul class="py-2 text-sm ps-0" aria-labelledby="dropdownDefaultButton">
						<li>
							<button onclick="showItems('category2')" class="link-dropdown category-name">Bulan ini</button>
						</li>
						<li>
							<button onclick="showItems('category3')" class="link-dropdown category-name">Minggu ini</button>
						</li>

					</ul>
				</div>
			</div>
			<div class="category2 item" style="display: none">
				<button id="dropdownDefaultButton2" onclick="showItems('category2')" data-dropdown-toggle="dropdown2" class="flex rounded-full btn-dropdown category-name active" type="button">
					Bulan ini
					<svg class="w-2.5 h-2.5 ms-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
						<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
					</svg>
				</button>
				<!-- Dropdown menu -->
				<div id="dropdown2" class="z-30 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700">
					<ul class="py-2 text-sm ps-0" aria-labelledby="dropdownDefaultButton2">
						<li>
							<button onclick="showItems('category3')" class="link-dropdown category-name">Minggu ini</button>
						</li>
						<li>
							<button onclick="showItems('category1')" class="link-dropdown category-name">Tahun ini</button>
						</li>

					</ul>
				</div>
			</div>
			<div class="category3 item" style="display: none">
				<button id="dropdownDefaultButton3" onclick="showItems('category3')" data-dropdown-toggle="dropdown3" class="flex btn-dropdown rounded-full category-name active" type="button">
					Minggu ini
					<svg class="w-2.5 h-2.5 ms-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
						<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
					</svg>
				</button>
				<!-- Dropdown menu -->
				<div id="dropdown3" class="z-30 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700">
					<ul class="py-2 text-sm ps-0" aria-labelledby="dropdownDefaultButton">
						<li>
							<button onclick="showItems('category1')" class="link-dropdown category-name">Tahun ini</button>
						</li>
						<li>
							<button onclick="showItems('category2')" class="link-dropdown category-name">Bulan ini</button>
						</li>

					</ul>
				</div>
			</div>

		</div>
		<div class="category-content mt-[32px]">
			<div class="category1 item">
				<div class="" id="chart1"></div>
			</div>
			<div class="category2 item" style="display: none">
				<div class="" id="chart2"></div>
			</div>
			<div class="category3 item" style="display: none">
				<div class="" id="chart3"></div>
			</div>
		</div>
	</div>
</div>

@endsection

@push('js')
	<script>
		let letter_yearly = <?= json_encode($letter_yearly); ?>;
		let letter_monthly = <?= json_encode($letter_monthly); ?>;
		let letter_weekly = <?= json_encode($letter_weekly); ?>;

		document.addEventListener('DOMContentLoaded', function() {
			var showCategory = 'category1';
			var showAllCategory = document.querySelector(`.category-name[data-category="${showCategory}"]`);
			showAllCategory.classList.add('active');
			showCategory.style.display = 'flex';
			showItems(showCategory); // Panggil fungsi showItems() dengan kategori 'category1' sebagai default
		});

		function showItems(category) {
			// Menghapus kelas "active" dari semua kategori
			var categories = document.getElementsByClassName('.category-name');
			for (var i = 0; i < categories.length; i++) {
				categories[i].classList.remove('active');
			}

			// Menambahkan kelas "active" ke kategori yang dipilih
			var selectedCategory = event.target;
			if (!selectedCategory.classList.contains('active')) {
				selectedCategory.classList.add('active');
			}

			// Menampilkan item-item yang memiliki kategori yang sama dengan kategori yang dipilih
			var items = document.getElementsByClassName('item');
			for (var j = 0; j < items.length; j++) {
				items[j].style.display = 'none';
				if (items[j].classList.contains(category)) {
					items[j].style.display = 'block';
				}
			}
		}

		let options1 = {
			chart: {
				type: 'bar',
				height: 215
			},
			plotOptions: {
				bar: {
					horizontal: false,
					columnWidth: 26,
					endingShape: 'rounded',
					startingShape: 'rounded',
					rounded:'50%',
					borderRadius: 5,
					// borderRadiusApplication: 'end',
				},
			},
			colors:['#6562E8', '#7D7AFF'],

			series: [{
				name: 'Surat',
				data: letter_yearly
			}],
			xaxis: {
				categories: ['Jan','Feb','Mar','Apr','Mei','Jun','Jul', 'Aug','Sep', 'Okt', 'Nov', 'Des']
			},
			yaxis: {
				categories: [10, 20, 30, 40, 50]
			}
		}

		let options2 = {
			chart: {
				type: 'bar',
				height: 215
			},
			plotOptions: {
				bar: {
					horizontal: false,
					columnWidth: 26,
					endingShape: 'rounded',
					startingShape: 'rounded',
					rounded:'50%',
					borderRadius: 5,
					// borderRadiusApplication: 'end',
				},
			},
			colors:['#5F84E9E5'],

			series: [{
				name: 'Surat',
				data: letter_monthly
			}],
			xaxis: {
				categories: ['Minggu 1','Minggu 2','Minggu 3','Minggu 4']
			},
			yaxis: {
				categories: [10, 20, 30, 40, 50]
			}
		}

		let options3 = {
			chart: {
				type: 'bar',
				height: 215
			},
			plotOptions: {
				bar: {
					horizontal: false,
					columnWidth: 26,
					endingShape: 'rounded',
					startingShape: 'rounded',
					rounded:'50%',
					borderRadius: 5,
					// borderRadiusApplication: 'end',
				},
			},
			colors:['#5F84E9E5'],

			series: [{
				name: 'Surat',
				data: letter_weekly
			}],
			xaxis: {
				categories: ['Senin','Selasa','Rabu','Kamis','Jumat','Sabtu','Minggu']
			},
			yaxis: {
				categories: [10, 20, 30, 40, 50]
			}
		}

		let chart = new ApexCharts(document.querySelector("#chart1"), options1);
		let chart2 = new ApexCharts(document.querySelector("#chart2"), options2);
		let chart3= new ApexCharts(document.querySelector("#chart3"), options3);

		chart.render();
		chart2.render();
		chart3.render();
	</script>
@endpush
